﻿# spring-boot-activemq### 说明ActiveMQ 是Apache出品，最流行的，能力强劲的开源消息总线。到Apache官方网站下载最新的ActiveMQ的安装包，并解压到本地目录下，下载链接如下：http://activemq.apache.org/activemq-5158-release.html。解压后进入其bin目录，如果我们是32位的机器，就双击win32目录下的activemq.bat,如果是64位机器，则双击win64目录下的activemq.bat。启动之后有两个端口，8161是后台管理系统，61616是给java用的tcp端口。pom依赖如下：```xml<dependencies>    <dependency>        <groupId>org.springframework.boot</groupId>        <artifactId>spring-boot-starter-activemq</artifactId>    </dependency>    <dependency>        <groupId>org.springframework.boot</groupId>        <artifactId>spring-boot-starter-test</artifactId>        <scope>test</scope>    </dependency></dependencies>```我们创建生产者和消费者：```java/** * 生产者 * * @author YI * @date 2019-1-27 21:27:59 */@Componentpublic class Producer {    @Autowired    private JmsMessagingTemplate jmsMessagingTemplate;    @Autowired    private Queue queue;    /**     * 发送消息     *     * @param message 待发送的消息     */    public void sendMessage(String message) {        this.jmsMessagingTemplate.convertAndSend(this.queue, message);    }}``````java/** * 消费者 * * @author YI * @date 2019-1-27 21:27:27 */@Componentpublic class Consumer {	/**	 * 使用JmsListener配置消费者监听的队列	 * @param text	接收到的消息	 */	@JmsListener(destination = Config.QUEUE)	public void receiveQueue(String text) {		System.out.println(text);	}}```测试用例：```java@RunWith(SpringRunner.class)@SpringBootTestpublic class SpringBootActivemqApplicationTests {    @Autowired    private Producer producer;    @Test    public void sendSimpleMessage() throws InterruptedException {        for (int i = 0; i < 100; i++) {            LocalDateTime ldt = LocalDateTime.now();            this.producer.sendMessage("消息队列测试：" + ldt.format(DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss")));            Thread.sleep(500L);        }    }}```测试结果：![](https://i.imgur.com/59SP7bS.png)简单使用上还是很方便的，高级的功能需要看官方文档。### 问题建议- 联系我的邮箱：ilovey_hwy@163.com- 我的博客：https://www.hwy.ac.cn- GitHub：https://github.com/HWYWL